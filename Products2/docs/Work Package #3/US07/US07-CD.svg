<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1010px" preserveAspectRatio="none" style="width:423px;height:1010px;background:#FFFFFF;" version="1.1" viewBox="0 0 423 1010" width="423px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qgkh2putth4f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ee6344d516906ecc8b439ac61d539e0d]
class ReviewController--><rect codeLine="7" fill="#FEFECE" filter="url(#f1qgkh2putth4f)" height="96.4375" id="ReviewController" style="stroke:#A80036;stroke-width:1.5;" width="287" x="122.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="219" y="24.457">ReviewController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="123.5" x2="408.5" y1="32.0938" y2="32.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="123.5" x2="408.5" y1="40.0938" y2="40.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="128.5" y="55.5127">+addVote(Vote newVote): Vote</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="275" x="128.5" y="69.3486">+findByProductId(final Long productId): Iterable&lt;Review&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="128.5" y="83.1846">+reviewProduct(Review newReview): Review</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="268" x="128.5" y="97.0205">+delete(final Long productId): ResponseEntity&lt;Review&gt;</text><!--MD5=[0b56730ea20f38f13e8afabab30647d3]
class ReviewService--><rect codeLine="14" fill="#FEFECE" filter="url(#f1qgkh2putth4f)" height="111.5313" id="ReviewService" style="stroke:#A80036;stroke-width:1.5;" width="239" x="146.5" y="164"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="235.5" y="181.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="225.5" y="196.5508">ReviewService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="147.5" x2="384.5" y1="204.1875" y2="204.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="147.5" x2="384.5" y1="212.1875" y2="212.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="221" x="152.5" y="227.6064">+findById(Long  productId) : Iterable&lt;Review&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="152.5" y="241.4424">+reviewProduct(Review newReview): Review</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="152.5" y="255.2783">+deleteById(Long reviewId): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="152.5" y="269.1143">+addVote(Vote newVote): Vote</text><!--MD5=[e5477415c5dbcdabfda1ba2e82d9bcc5]
class ReviewServiceImpl--><rect codeLine="21" fill="#FEFECE" filter="url(#f1qgkh2putth4f)" height="96.4375" id="ReviewServiceImpl" style="stroke:#A80036;stroke-width:1.5;" width="239" x="60.5" y="337"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="128" y="354.457">ReviewServiceImpl</text><line style="stroke:#A80036;stroke-width:1.5;" x1="61.5" x2="298.5" y1="362.0938" y2="362.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="61.5" x2="298.5" y1="370.0938" y2="370.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="221" x="66.5" y="385.5127">+findById(Long  productId) : Iterable&lt;Review&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="66.5" y="399.3486">+reviewProduct(Review newReview): Review</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="66.5" y="413.1846">+deleteById(Long reviewId): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="66.5" y="427.0205">+addVote(Vote newVote): Vote</text><!--MD5=[eb0e8f8ddfdc21c3fdb48447501fec67]
class Review--><rect codeLine="28" fill="#FEFECE" filter="url(#f1qgkh2putth4f)" height="110.2734" id="Review" style="stroke:#A80036;stroke-width:1.5;" width="319" x="35.5" y="684"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="175" y="701.457">Review</text><line style="stroke:#A80036;stroke-width:1.5;" x1="36.5" x2="353.5" y1="709.0938" y2="709.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="41.5" y="724.5127">-productID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="41.5" y="738.3486">-reviewID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="41.5" y="752.1846">-text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="41.5" y="766.0205">-rating</text><line style="stroke:#A80036;stroke-width:1.5;" x1="36.5" x2="353.5" y1="772.4375" y2="772.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="307" x="41.5" y="787.8564">Review(Long reviewId, Long productId, String text, Long rating)</text><!--MD5=[6987bc66bd8845192e2addfb47d98466]
class Vote--><rect codeLine="36" fill="#FEFECE" filter="url(#f1qgkh2putth4f)" height="124.1094" id="Vote" style="stroke:#A80036;stroke-width:1.5;" width="376" x="7" y="872"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="183" y="889.457">Vote</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="382" y1="897.0938" y2="897.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="33" x="13" y="912.5127">-voteId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="13" y="926.3486">-userId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="13" y="940.1846">-reviewId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25" x="13" y="954.0205">-vote</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="38" x="13" y="967.8564">-reason</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="382" y1="974.2734" y2="974.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="364" x="13" y="989.6924">Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)</text><!--MD5=[646427437b77c51076e5aa1bc572221c]
class ReviewRepository--><rect codeLine="45" fill="#FEFECE" filter="url(#f1qgkh2putth4f)" height="111.5313" id="ReviewRepository" style="stroke:#A80036;stroke-width:1.5;" width="209" x="90.5" y="494"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="164.5" y="511.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="99" x="145.5" y="526.5508">ReviewRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="91.5" x2="298.5" y1="534.1875" y2="534.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="91.5" x2="298.5" y1="542.1875" y2="542.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="96.5" y="557.6064">+save(Review newReview) : Review</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="96.5" y="571.4424">+findById(Long productId): List&lt;Review&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="96.5" y="585.2783">+deleteByIdIfMatch(Long reviewId): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="96.5" y="599.1143">+save(Vote newVote): Vote</text><!--MD5=[c5c637c91b919388842e6ccc8b21e26a]
link ReviewRepository to Review--><path codeLine="52" d="M195,606.09 C195,628.93 195,655.47 195,678.73 " fill="none" id="ReviewRepository-to-Review" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="195,683.94,199,674.94,195,678.94,191,674.94,195,683.94" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="196" y="650.4951">records</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="187.5953" y="627.0429">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="178.9922" y="672.9667">0..</text><!--MD5=[d057c3dfebd49e5861f569cf4a1dc708]
link ReviewController to ReviewService--><path codeLine="54" d="M266,103.15 C266,120.51 266,140.41 266,158.77 " fill="none" id="ReviewController-to-ReviewService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="266,163.9,270,154.9,266,158.9,262,154.9,266,163.9" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b3b064fd269ea8760e915da69fd89045]
link ReviewServiceImpl to ReviewRepository--><path codeLine="55" d="M184.34,433.15 C185.94,450.51 187.77,470.41 189.46,488.77 " fill="none" id="ReviewServiceImpl-to-ReviewRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="189.93,493.9,193.0891,484.5715,189.4722,488.921,185.1227,485.3041,189.93,493.9" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a973bd28eaa03343f4887af78abe4722]
link ReviewServiceImpl to Review--><path codeLine="56" d="M117.31,433.18 C99.56,450.18 82.49,470.93 73,494 C54.06,540.03 54.86,559.65 73,606 C83.86,633.75 103.59,659.16 124.06,680.11 " fill="none" id="ReviewServiceImpl-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="127.62,683.71,124.103,674.5105,124.0916,680.1673,118.4348,680.1559,127.62,683.71" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b6ab7d3eac32c4c5d65a673aec98eab4]
link ReviewService to Review--><path codeLine="57" d="M295.77,276.08 C304.4,294.85 312.66,316.33 317,337 C341.58,454 360.57,494.67 317,606 C306.14,633.75 286.41,659.16 265.94,680.11 " fill="none" id="ReviewService-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="262.38,683.71,271.5652,680.1559,265.9084,680.1673,265.897,674.5105,262.38,683.71" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d5b75c24e88a5b261b39334b7343a232]
link Review to Vote--><path codeLine="58" d="M195,794.02 C195,816.61 195,843.08 195,866.83 " fill="none" id="Review-to-Vote" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="195,871.85,199,862.85,195,866.85,191,862.85,195,871.85" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="196" y="838.4951">has</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="187.5516" y="815.5946">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="173.8438" y="861.248">0..*</text><!--MD5=[9f3ba529bbceff5d2d0651079e8870e0]
reverse link ReviewService to ReviewServiceImpl--><path codeLine="60" d="M227.39,294.17 C219.76,308.63 211.95,323.44 204.92,336.76 " fill="none" id="ReviewService-backto-ReviewServiceImpl" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="221.36,290.61,236.88,276.18,233.74,297.14,221.36,290.61" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[10db9402fe5efa57cb789195256256e9]
@startuml
'https://plantuml.com/class-diagram

hide circle
skinparam classAttributeIconSize 0


class ReviewController {
    +addVote(Vote newVote): Vote
    +findByProductId(final Long productId): Iterable<Review>
    +reviewProduct(Review newReview): Review
    +delete(final Long productId): ResponseEntity<Review>
}

interface ReviewService <<interface>> {
    +findById(Long  productId) : Iterable<Review>
    +reviewProduct(Review newReview): Review
    +deleteById(Long reviewId): void
    +addVote(Vote newVote): Vote
}

class ReviewServiceImpl{
    +findById(Long  productId) : Iterable<Review>
    +reviewProduct(Review newReview): Review
    +deleteById(Long reviewId): void
    +addVote(Vote newVote): Vote
}

class Review {
    - productID
    - reviewID
    - text
    - rating
    Review(Long reviewId, Long productId, String text, Long rating)
}

class Vote {
    - voteId
    - userId
    - reviewId
    - vote
    - reason
    Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)
}

interface ReviewRepository <<interface>> {
    +save(Review newReview) : Review
    +findById(Long productId): List<Review>
    +deleteByIdIfMatch(Long reviewId): void
    +save(Vote newVote): Vote
}

ReviewRepository "1" - -> "0.." Review:  records

ReviewController ..> ReviewService
ReviewServiceImpl ..> ReviewRepository
ReviewServiceImpl ..> Review
ReviewService ..> Review
Review "1" ..> "0..*" Vote: has

ReviewServiceImpl .up.|> ReviewService


@enduml

@startuml

hide circle
skinparam classAttributeIconSize 0


class ReviewController {
    +addVote(Vote newVote): Vote
    +findByProductId(final Long productId): Iterable<Review>
    +reviewProduct(Review newReview): Review
    +delete(final Long productId): ResponseEntity<Review>
}

interface ReviewService <<interface>> {
    +findById(Long  productId) : Iterable<Review>
    +reviewProduct(Review newReview): Review
    +deleteById(Long reviewId): void
    +addVote(Vote newVote): Vote
}

class ReviewServiceImpl{
    +findById(Long  productId) : Iterable<Review>
    +reviewProduct(Review newReview): Review
    +deleteById(Long reviewId): void
    +addVote(Vote newVote): Vote
}

class Review {
    - productID
    - reviewID
    - text
    - rating
    Review(Long reviewId, Long productId, String text, Long rating)
}

class Vote {
    - voteId
    - userId
    - reviewId
    - vote
    - reason
    Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)
}

interface ReviewRepository <<interface>> {
    +save(Review newReview) : Review
    +findById(Long productId): List<Review>
    +deleteByIdIfMatch(Long reviewId): void
    +save(Vote newVote): Vote
}

ReviewRepository "1" - -> "0.." Review:  records

ReviewController ..> ReviewService
ReviewServiceImpl ..> ReviewRepository
ReviewServiceImpl ..> Review
ReviewService ..> Review
Review "1" ..> "0..*" Vote: has

ReviewServiceImpl .up.|> ReviewService


@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>