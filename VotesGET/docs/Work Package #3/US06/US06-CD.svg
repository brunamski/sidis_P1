<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="870px" preserveAspectRatio="none" style="width:465px;height:870px;background:#FFFFFF;" version="1.1" viewBox="0 0 465 870" width="465px" zoomAndPan="magnify"><defs><filter height="300%" id="fzydlbutp4eup" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ee6344d516906ecc8b439ac61d539e0d]
class ReviewController--><rect codeLine="7" fill="#FEFECE" filter="url(#fzydlbutp4eup)" height="96.4375" id="ReviewController" style="stroke:#A80036;stroke-width:1.5;" width="389" x="62.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="210" y="24.457">ReviewController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="63.5" x2="450.5" y1="32.0938" y2="32.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="63.5" x2="450.5" y1="40.0938" y2="40.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="68.5" y="55.5127">+Vote(Vote newVote): ResponseEntity&lt;Vote&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="377" x="68.5" y="69.3486">+findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable&lt;Object&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="274" x="68.5" y="83.1846">+create(Review newReview): ResponseEntity&lt;Review&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="320" x="68.5" y="97.0205">+withdrawReview(final Long reviewId): ResponseEntity&lt;Review&gt;</text><!--MD5=[391cd16b6ee6fbcce94f77cecd31d5b8]
class VoteService--><rect codeLine="14" fill="#FEFECE" filter="url(#fzydlbutp4eup)" height="70.0234" id="VoteService" style="stroke:#A80036;stroke-width:1.5;" width="157" x="178.5" y="164"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="226.5" y="181.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="66" x="224" y="196.5508">VoteService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="179.5" x2="334.5" y1="204.1875" y2="204.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="179.5" x2="334.5" y1="212.1875" y2="212.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="184.5" y="227.6064">+create(Vote newVote): Vote</text><!--MD5=[b52ef9e74fc0968f7b2c6726eb144701]
class VoteServiceImpl--><rect codeLine="18" fill="#FEFECE" filter="url(#fzydlbutp4eup)" height="54.9297" id="VoteServiceImpl" style="stroke:#A80036;stroke-width:1.5;" width="157" x="112.5" y="295"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="147" y="312.457">VoteServiceImpl</text><line style="stroke:#A80036;stroke-width:1.5;" x1="113.5" x2="268.5" y1="320.0938" y2="320.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="113.5" x2="268.5" y1="328.0938" y2="328.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="118.5" y="343.5127">+create(Vote newVote): Vote</text><!--MD5=[eb0e8f8ddfdc21c3fdb48447501fec67]
class Review--><rect codeLine="22" fill="#FEFECE" filter="url(#fzydlbutp4eup)" height="110.2734" id="Review" style="stroke:#A80036;stroke-width:1.5;" width="319" x="35.5" y="544"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="175" y="561.457">Review</text><line style="stroke:#A80036;stroke-width:1.5;" x1="36.5" x2="353.5" y1="569.0938" y2="569.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="41.5" y="584.5127">-productID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="41.5" y="598.3486">-reviewID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="41.5" y="612.1846">-text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="41.5" y="626.0205">-rating</text><line style="stroke:#A80036;stroke-width:1.5;" x1="36.5" x2="353.5" y1="632.4375" y2="632.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="307" x="41.5" y="647.8564">Review(Long reviewId, Long productId, String text, Long rating)</text><!--MD5=[6987bc66bd8845192e2addfb47d98466]
class Vote--><rect codeLine="30" fill="#FEFECE" filter="url(#fzydlbutp4eup)" height="124.1094" id="Vote" style="stroke:#A80036;stroke-width:1.5;" width="376" x="7" y="732"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="183" y="749.457">Vote</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="382" y1="757.0938" y2="757.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="33" x="13" y="772.5127">-voteId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="13" y="786.3486">-userId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="13" y="800.1846">-reviewId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25" x="13" y="814.0205">-vote</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="38" x="13" y="827.8564">-reason</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="382" y1="834.2734" y2="834.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="364" x="13" y="849.6924">Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)</text><!--MD5=[2b68a07f92fcf566090aff64767c7da4]
class VoteRepository--><rect codeLine="39" fill="#FEFECE" filter="url(#fzydlbutp4eup)" height="54.9297" id="VoteRepository" style="stroke:#A80036;stroke-width:1.5;" width="150" x="120" y="411"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="153.5" y="428.457">VoteRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="121" x2="269" y1="436.0938" y2="436.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="121" x2="269" y1="444.0938" y2="444.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="126" y="459.5127">+save(Vote newVote): Vote</text><!--MD5=[2e39f4581275715f6c50324eeb4bd595]
link VoteRepository to Review--><path codeLine="43" d="M195,466.03 C195,485.78 195,513.51 195,538.47 " fill="none" id="VoteRepository-to-Review" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="195,543.74,199,534.74,195,538.74,191,534.74,195,543.74" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="196" y="510.4951">records</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="187.2344" y="487.3434">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="179.0391" y="533.1349">0..</text><!--MD5=[86d54bc5f007a87ee849804dabbaa10e]
link ReviewController to VoteService--><path codeLine="45" d="M257,103.28 C257,121.27 257,141.55 257,158.72 " fill="none" id="ReviewController-to-VoteService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="257,163.94,261,154.94,257,158.94,253,154.94,257,163.94" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0e72a151929e31271d026514fdbb6aa8]
link VoteServiceImpl to VoteRepository--><path codeLine="46" d="M191.94,350.23 C192.52,366.81 193.27,388.2 193.88,405.66 " fill="none" id="VoteServiceImpl-to-VoteRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="194.07,410.94,197.7593,401.8082,193.8987,405.9429,189.764,402.0823,194.07,410.94" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[16297e6b051e11f9d71d477b0c0d154a]
link VoteServiceImpl to Review--><path codeLine="47" d="M151.77,350.28 C132.91,365.61 112.22,386.62 102,411 C92.55,433.54 94.62,442.7 102,466 C110.37,492.42 126.14,518.11 142.35,539.71 " fill="none" id="VoteServiceImpl-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="145.38,543.69,143.1198,534.104,142.3549,539.7089,136.75,538.9441,145.38,543.69" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[09055164a4f072afe872a22c3d363d8a]
link VoteService to Review--><path codeLine="48" d="M270.57,234.14 C276.94,251.96 283.81,274.32 287,295 C298.58,370.11 309.77,393.49 287,466 C278.69,492.47 262.98,518.27 246.86,539.93 " fill="none" id="VoteService-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="243.85,543.93,252.4691,539.1645,246.866,539.942,246.0884,534.3389,243.85,543.93" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d5b75c24e88a5b261b39334b7343a232]
link Review to Vote--><path codeLine="49" d="M195,654.02 C195,676.61 195,703.08 195,726.83 " fill="none" id="Review-to-Vote" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="195,731.85,199,722.85,195,726.85,191,722.85,195,731.85" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="196" y="698.4951">has</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="187.5516" y="675.5946">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="173.8438" y="721.248">0..*</text><!--MD5=[8777e8b9f0cbd1766867055a59c0ea98]
reverse link VoteService to VoteServiceImpl--><path codeLine="51" d="M228.65,252.2 C220.64,266.93 212.26,282.35 205.45,294.9 " fill="none" id="VoteService-backto-VoteServiceImpl" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="222.74,248.4,238.44,234.17,235.04,255.08,222.74,248.4" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0b2e7ac3e99919a482ae175d2f11bdd4]
@startuml
'https://plantuml.com/class-diagram

hide circle
skinparam classAttributeIconSize 0


class ReviewController {
    +Vote(Vote newVote): ResponseEntity<Vote>
    +findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable<Object>
    +create(Review newReview): ResponseEntity<Review>
    +withdrawReview(final Long reviewId): ResponseEntity<Review>
}

interface VoteService <<interface>> {
    +create(Vote newVote): Vote
}

class VoteServiceImpl{
    +create(Vote newVote): Vote
}

class Review {
    - productID
    - reviewID
    - text
    - rating
    Review(Long reviewId, Long productId, String text, Long rating)
}

class Vote {
    - voteId
    - userId
    - reviewId
    - vote
    - reason
    Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)
}

class VoteRepository {
    +save(Vote newVote): Vote
}

VoteRepository "1" - -> "0.." Review:  records

ReviewController ..> VoteService
VoteServiceImpl ..> VoteRepository
VoteServiceImpl ..> Review
VoteService ..> Review
Review "1" ..> "0..*" Vote: has

VoteServiceImpl .up.|> VoteService


@enduml

@startuml

hide circle
skinparam classAttributeIconSize 0


class ReviewController {
    +Vote(Vote newVote): ResponseEntity<Vote>
    +findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable<Object>
    +create(Review newReview): ResponseEntity<Review>
    +withdrawReview(final Long reviewId): ResponseEntity<Review>
}

interface VoteService <<interface>> {
    +create(Vote newVote): Vote
}

class VoteServiceImpl{
    +create(Vote newVote): Vote
}

class Review {
    - productID
    - reviewID
    - text
    - rating
    Review(Long reviewId, Long productId, String text, Long rating)
}

class Vote {
    - voteId
    - userId
    - reviewId
    - vote
    - reason
    Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)
}

class VoteRepository {
    +save(Vote newVote): Vote
}

VoteRepository "1" - -> "0.." Review:  records

ReviewController ..> VoteService
VoteServiceImpl ..> VoteRepository
VoteServiceImpl ..> Review
VoteService ..> Review
Review "1" ..> "0..*" Vote: has

VoteServiceImpl .up.|> VoteService


@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>