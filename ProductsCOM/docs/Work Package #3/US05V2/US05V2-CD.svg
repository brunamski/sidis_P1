<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1010px" preserveAspectRatio="none" style="width:1009px;height:1010px;background:#FFFFFF;" version="1.1" viewBox="0 0 1009 1010" width="1009px" zoomAndPan="magnify"><defs><filter height="300%" id="f1x074ypnlqozi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ee6344d516906ecc8b439ac61d539e0d]
class ReviewController--><rect codeLine="7" fill="#FEFECE" filter="url(#f1x074ypnlqozi)" height="82.6016" id="ReviewController" style="stroke:#A80036;stroke-width:1.5;" width="389" x="472" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="619.5" y="24.457">ReviewController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="473" x2="860" y1="32.0938" y2="32.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="473" x2="860" y1="40.0938" y2="40.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="377" x="478" y="55.5127">+findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable&lt;Object&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="274" x="478" y="69.3486">+create(Review newReview): ResponseEntity&lt;Review&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="320" x="478" y="83.1846">+withdrawReview(final Long reviewId): ResponseEntity&lt;Review&gt;</text><!--MD5=[0b56730ea20f38f13e8afabab30647d3]
class ReviewService--><rect codeLine="13" fill="#FEFECE" filter="url(#f1x074ypnlqozi)" height="97.6953" id="ReviewService" style="stroke:#A80036;stroke-width:1.5;" width="389" x="472" y="151"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="636" y="168.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="626" y="183.5508">ReviewService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="473" x2="860" y1="191.1875" y2="191.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="473" x2="860" y1="199.1875" y2="199.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="377" x="478" y="214.6064">+findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable&lt;Object&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="478" y="228.4424">+create(Review newReview): Review</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="478" y="242.2783">+deleteById(Long reviewId): void</text><!--MD5=[e5477415c5dbcdabfda1ba2e82d9bcc5]
class ReviewServiceImpl--><rect codeLine="19" fill="#FEFECE" filter="url(#f1x074ypnlqozi)" height="82.6016" id="ReviewServiceImpl" style="stroke:#A80036;stroke-width:1.5;" width="389" x="348" y="310"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="490.5" y="327.457">ReviewServiceImpl</text><line style="stroke:#A80036;stroke-width:1.5;" x1="349" x2="736" y1="335.0938" y2="335.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="349" x2="736" y1="343.0938" y2="343.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="377" x="354" y="358.5127">+findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable&lt;Object&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="354" y="372.3486">+create(Review newReview): Review</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="354" y="386.1846">+deleteById(Long reviewId): void</text><!--MD5=[eb0e8f8ddfdc21c3fdb48447501fec67]
class Review--><rect codeLine="25" fill="#FEFECE" filter="url(#f1x074ypnlqozi)" height="165.6172" id="Review" style="stroke:#A80036;stroke-width:1.5;" width="295" x="404" y="615"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="531.5" y="632.457">Review</text><line style="stroke:#A80036;stroke-width:1.5;" x1="405" x2="698" y1="640.0938" y2="640.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="410" y="655.5127">-productID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="410" y="669.3486">-reviewID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="410" y="683.1846">-text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="410" y="697.0205">-rating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="410" y="710.8564">-userId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="410" y="724.6924">-publishingDate</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="410" y="738.5283">-funFact</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="410" y="752.3643">-statusId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="405" x2="698" y1="758.7813" y2="758.7813"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="283" x="410" y="774.2002">Review(Long reviewId, String sku, String text, Long rating)</text><!--MD5=[72136138052d025cffdce3c22fbd185f]
class Product--><rect codeLine="37" fill="#FEFECE" filter="url(#f1x074ypnlqozi)" height="137.9453" id="Product" style="stroke:#A80036;stroke-width:1.5;" width="577" x="7" y="859"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="274.5" y="876.457">Product</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="583" y1="884.0938" y2="884.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49" x="13" y="899.5127">-productId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="13" y="913.3486">-designation</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="13" y="927.1846">-description</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="13" y="941.0205">-setOfImages</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="13" y="954.8564">-sku</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="13" y="968.6924">-aggregatedRating</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="583" y1="975.1094" y2="975.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="565" x="13" y="990.5283">Product(Long productId, String designation, String description, String setOfImages, Long sku, Long aggregatedRating)</text><!--MD5=[6987bc66bd8845192e2addfb47d98466]
class Vote--><rect codeLine="47" fill="#FEFECE" filter="url(#f1x074ypnlqozi)" height="124.1094" id="Vote" style="stroke:#A80036;stroke-width:1.5;" width="376" x="619.5" y="866"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="795.5" y="883.457">Vote</text><line style="stroke:#A80036;stroke-width:1.5;" x1="620.5" x2="994.5" y1="891.0938" y2="891.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="33" x="625.5" y="906.5127">-voteId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="625.5" y="920.3486">-userId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="625.5" y="934.1846">-reviewId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25" x="625.5" y="948.0205">-vote</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="38" x="625.5" y="961.8564">-reason</text><line style="stroke:#A80036;stroke-width:1.5;" x1="620.5" x2="994.5" y1="968.2734" y2="968.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="364" x="625.5" y="983.6924">Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)</text><!--MD5=[646427437b77c51076e5aa1bc572221c]
class ReviewRepository--><rect codeLine="56" fill="#FEFECE" filter="url(#f1x074ypnlqozi)" height="82.6016" id="ReviewRepository" style="stroke:#A80036;stroke-width:1.5;" width="371" x="366" y="454"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99" x="502" y="471.457">ReviewRepository</text><line style="stroke:#A80036;stroke-width:1.5;" x1="367" x2="736" y1="479.0938" y2="479.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="367" x2="736" y1="487.0938" y2="487.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="372" y="502.5127">+save(Review newReview) : Review</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="359" x="372" y="516.3486">+findReviewsBySkuSortedByVotesAndDate(final String sku): List&lt;Object&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="372" y="530.1846">+deleteByIdIfMatch(Long reviewId): void</text><!--MD5=[c5c637c91b919388842e6ccc8b21e26a]
link ReviewRepository to Review--><path codeLine="62" d="M551.5,537.07 C551.5,557.99 551.5,584.36 551.5,609.62 " fill="none" id="ReviewRepository-to-Review" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="551.5,614.66,555.5,605.66,551.5,609.66,547.5,605.66,551.5,614.66" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="552.5" y="581.4951">records</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="543.9641" y="558.2129">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="530.6094" y="604.0529">0..*</text><!--MD5=[d057c3dfebd49e5861f569cf4a1dc708]
link ReviewController to ReviewService--><path codeLine="64" d="M666.5,90.35 C666.5,107.42 666.5,127.48 666.5,145.69 " fill="none" id="ReviewController-to-ReviewService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="666.5,150.77,670.5,141.77,666.5,145.77,662.5,141.77,666.5,150.77" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b3b064fd269ea8760e915da69fd89045]
link ReviewServiceImpl to ReviewRepository--><path codeLine="65" d="M545.08,393.19 C546.17,410.42 547.45,430.59 548.58,448.37 " fill="none" id="ReviewServiceImpl-to-ReviewRepository" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="548.92,453.8,552.3459,444.5662,548.6054,448.8099,544.3617,445.0695,548.92,453.8" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a973bd28eaa03343f4887af78abe4722]
link ReviewServiceImpl to Review--><path codeLine="66" d="M416.83,393.02 C389.72,407.83 364.45,427.66 348.5,454 C329.4,485.56 332.4,503.81 348.5,537 C362.3,565.46 383.89,590.37 407.94,611.54 " fill="none" id="ReviewServiceImpl-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="411.81,614.9,407.6157,605.9889,408.0268,611.6308,402.385,612.0419,411.81,614.9" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b6ab7d3eac32c4c5d65a673aec98eab4]
link ReviewService to Review--><path codeLine="67" d="M717.08,249.17 C732.1,266.72 746.64,287.76 754.5,310 C788.11,405.13 798.53,446.23 754.5,537 C740.7,565.46 719.11,590.37 695.06,611.54 " fill="none" id="ReviewService-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="691.19,614.9,700.615,612.0419,694.9732,611.6308,695.3843,605.9889,691.19,614.9" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[17b9041a14a9c4b80116b970cb1b8bd8]
link Review to Product--><path codeLine="68" d="M459.08,781.31 C431.91,805.51 402.43,831.77 376.07,855.25 " fill="none" id="Review-to-Product" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="372.2,858.69,381.5777,855.6803,375.9299,855.3602,376.2501,849.7124,372.2,858.69" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="424.5" y="825.4951">has a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="430.9184" y="802.1106">0..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="372.7488" y="848.2335">1</text><!--MD5=[d5b75c24e88a5b261b39334b7343a232]
link Review to Vote--><path codeLine="69" d="M643.92,781.31 C673.94,808.05 706.79,837.31 735.13,862.54 " fill="none" id="Review-to-Vote" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="738.92,865.92,734.8699,856.9424,735.1901,862.5902,729.5423,862.9103,738.92,865.92" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="696.5" y="825.4951">has</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="644.0058" y="802.1106">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="709.8342" y="855.3261">0..*</text><!--MD5=[9f3ba529bbceff5d2d0651079e8870e0]
reverse link ReviewService to ReviewServiceImpl--><path codeLine="71" d="M613.61,264.76 C600.9,280.09 587.66,296.05 576.1,309.98 " fill="none" id="ReviewService-backto-ReviewServiceImpl" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="608.43,260.05,626.58,249.13,619.2,268.99,608.43,260.05" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[69225d87888160edc439fa721c4bb9a6]
@startuml
'https://plantuml.com/class-diagram

hide circle
skinparam classAttributeIconSize 0


class ReviewController {
    +findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable<Object>
    +create(Review newReview): ResponseEntity<Review>
    +withdrawReview(final Long reviewId): ResponseEntity<Review>
}

interface ReviewService <<interface>> {
    +findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable<Object>
    +create(Review newReview): Review
    +deleteById(Long reviewId): void
}

class ReviewServiceImpl{
    +findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable<Object>
    +create(Review newReview): Review
    +deleteById(Long reviewId): void
}

class Review {
    - productID
    - reviewID
    - text
    - rating
    - userId
    - publishingDate
    - funFact
    - statusId
    Review(Long reviewId, String sku, String text, Long rating)
}

class Product {
    - productId
    - designation
    - description
    - setOfImages
    - sku
    - aggregatedRating
    Product(Long productId, String designation, String description, String setOfImages, Long sku, Long aggregatedRating)
}

class Vote {
    - voteId
    - userId
    - reviewId
    - vote
    - reason
    Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)
}

class ReviewRepository {
    +save(Review newReview) : Review
    +findReviewsBySkuSortedByVotesAndDate(final String sku): List<Object>
    +deleteByIdIfMatch(Long reviewId): void
}

ReviewRepository "1" - -> "0..*" Review:  records

ReviewController ..> ReviewService
ReviewServiceImpl ..> ReviewRepository
ReviewServiceImpl ..> Review
ReviewService ..> Review
Review "0..*" ..> "1" Product: has a
Review "1" ..> "0..*" Vote: has

ReviewServiceImpl .up.|> ReviewService


@enduml

@startuml

hide circle
skinparam classAttributeIconSize 0


class ReviewController {
    +findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable<Object>
    +create(Review newReview): ResponseEntity<Review>
    +withdrawReview(final Long reviewId): ResponseEntity<Review>
}

interface ReviewService <<interface>> {
    +findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable<Object>
    +create(Review newReview): Review
    +deleteById(Long reviewId): void
}

class ReviewServiceImpl{
    +findReviewsBySkuSortedByVotesAndDate(final String sku): Iterable<Object>
    +create(Review newReview): Review
    +deleteById(Long reviewId): void
}

class Review {
    - productID
    - reviewID
    - text
    - rating
    - userId
    - publishingDate
    - funFact
    - statusId
    Review(Long reviewId, String sku, String text, Long rating)
}

class Product {
    - productId
    - designation
    - description
    - setOfImages
    - sku
    - aggregatedRating
    Product(Long productId, String designation, String description, String setOfImages, Long sku, Long aggregatedRating)
}

class Vote {
    - voteId
    - userId
    - reviewId
    - vote
    - reason
    Vote(Long voteId, boolean vote, String reason, Long userId, Long reviewId)
}

class ReviewRepository {
    +save(Review newReview) : Review
    +findReviewsBySkuSortedByVotesAndDate(final String sku): List<Object>
    +deleteByIdIfMatch(Long reviewId): void
}

ReviewRepository "1" - -> "0..*" Review:  records

ReviewController ..> ReviewService
ReviewServiceImpl ..> ReviewRepository
ReviewServiceImpl ..> Review
ReviewService ..> Review
Review "0..*" ..> "1" Product: has a
Review "1" ..> "0..*" Vote: has

ReviewServiceImpl .up.|> ReviewService


@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>