<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="649px" preserveAspectRatio="none" style="width:1330px;height:649px;background:#FFFFFF;" version="1.1" viewBox="0 0 1330 649" width="1330px" zoomAndPan="magnify"><defs><filter height="300%" id="fufj5jd1crq7e" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[da60459599bfcabead66c448ce02a5b9]
class ProductController--><rect codeLine="7" fill="#FEFECE" filter="url(#fufj5jd1crq7e)" height="54.9297" id="ProductController" style="stroke:#A80036;stroke-width:1.5;" width="343" x="252.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="376" y="24.457">ProductController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="253.5" x2="594.5" y1="32.0938" y2="32.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="253.5" x2="594.5" y1="40.0938" y2="40.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="331" x="258.5" y="55.5127">+getProductAggregatedRating(String sku): ResponseEntity&lt;Product&gt;</text><!--MD5=[58a28f2d5507ae66b1dc95167690ce61]
class ProductService--><rect codeLine="11" fill="#FEFECE" filter="url(#fufj5jd1crq7e)" height="83.8594" id="ProductService" style="stroke:#A80036;stroke-width:1.5;" width="230" x="514" y="123"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="598.5" y="140.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="83" x="587.5" y="155.5508">ProductService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="515" x2="743" y1="163.1875" y2="163.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="515" x2="743" y1="171.1875" y2="171.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="218" x="520" y="186.6064">+findOne(Long productId): Optional&lt;Product&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="520" y="200.4424">+findBySku(String sku): Optional&lt;Product&gt;</text><!--MD5=[995e7ea07ac4e414ed6eb23d37d5a552]
class ProductServiceImpl--><rect codeLine="16" fill="#FEFECE" filter="url(#fufj5jd1crq7e)" height="68.7656" id="ProductServiceImpl" style="stroke:#A80036;stroke-width:1.5;" width="230" x="298" y="295.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="360" y="312.957">ProductServiceImpl</text><line style="stroke:#A80036;stroke-width:1.5;" x1="299" x2="527" y1="320.5938" y2="320.5938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="299" x2="527" y1="328.5938" y2="328.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="218" x="304" y="344.0127">+findOne(Long productId): Optional&lt;Product&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="304" y="357.8486">+findBySku(String sku): Optional&lt;Product&gt;</text><!--MD5=[0b56730ea20f38f13e8afabab30647d3]
class ReviewService--><rect codeLine="21" fill="#FEFECE" filter="url(#fufj5jd1crq7e)" height="70.0234" id="ReviewService" style="stroke:#A80036;stroke-width:1.5;" width="256" x="158" y="130"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="255.5" y="147.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="245.5" y="162.5508">ReviewService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="159" x2="413" y1="170.1875" y2="170.1875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="159" x2="413" y1="178.1875" y2="178.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="244" x="164" y="193.6064">+findReviewsBySku(String sku): Iterable&lt;Review&gt;</text><!--MD5=[e5477415c5dbcdabfda1ba2e82d9bcc5]
class ReviewServiceImpl--><rect codeLine="25" fill="#FEFECE" filter="url(#fufj5jd1crq7e)" height="54.9297" id="ReviewServiceImpl" style="stroke:#A80036;stroke-width:1.5;" width="256" x="7" y="302.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="83" y="319.957">ReviewServiceImpl</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="262" y1="327.5938" y2="327.5938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="262" y1="335.5938" y2="335.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="244" x="13" y="351.0127">+findReviewsBySku(String sku): Iterable&lt;Review&gt;</text><!--MD5=[eb0e8f8ddfdc21c3fdb48447501fec67]
class Review--><rect codeLine="29" fill="#FEFECE" filter="url(#fufj5jd1crq7e)" height="165.6172" id="Review" style="stroke:#A80036;stroke-width:1.5;" width="319" x="253.5" y="470"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="393" y="487.457">Review</text><line style="stroke:#A80036;stroke-width:1.5;" x1="254.5" x2="571.5" y1="495.0938" y2="495.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="259.5" y="510.5127">-productID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="259.5" y="524.3486">-reviewID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="259.5" y="538.1846">-text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="259.5" y="552.0205">-rating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="259.5" y="565.8564">-userId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="259.5" y="579.6924">-publishingDate</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="259.5" y="593.5283">-funFact</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="259.5" y="607.3643">-statusId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="254.5" x2="571.5" y1="613.7813" y2="613.7813"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="307" x="259.5" y="629.2002">Review(Long reviewId, Long productId, String text, Long rating)</text><!--MD5=[72136138052d025cffdce3c22fbd185f]
class Product--><rect codeLine="41" fill="#FEFECE" filter="url(#fufj5jd1crq7e)" height="124.1094" id="Product" style="stroke:#A80036;stroke-width:1.5;" width="459" x="563.5" y="268"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="772" y="285.457">Product</text><line style="stroke:#A80036;stroke-width:1.5;" x1="564.5" x2="1021.5" y1="293.0938" y2="293.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49" x="569.5" y="308.5127">-productId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="569.5" y="322.3486">-designation</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="569.5" y="336.1846">-description</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="569.5" y="350.0205">-setOfImages</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="569.5" y="363.8564">-sku</text><line style="stroke:#A80036;stroke-width:1.5;" x1="564.5" x2="1021.5" y1="370.2734" y2="370.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="447" x="569.5" y="385.6924">Product(Long productId, String designation, String description, String setOfImages, Long sku)</text><!--MD5=[ae4a37ce8a7b9f65daef4adfd1c7dc39]
class AggregatedRating--><rect codeLine="50" fill="#FEFECE" filter="url(#fufj5jd1crq7e)" height="151.7813" id="AggregatedRating" style="stroke:#A80036;stroke-width:1.5;" width="632" x="684" y="477"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99" x="950.5" y="494.457">AggregatedRating</text><line style="stroke:#A80036;stroke-width:1.5;" x1="685" x2="1315" y1="502.0938" y2="502.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="690" y="517.5127">-one_Star</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49" x="690" y="531.3486">-two_Star</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="690" y="545.1846">-three_Star</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="690" y="559.0205">-four_Star</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="690" y="572.8564">-five_Star</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="690" y="586.6924">-totalRatings</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="690" y="600.5283">-average</text><line style="stroke:#A80036;stroke-width:1.5;" x1="685" x2="1315" y1="606.9453" y2="606.9453"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="620" x="690" y="622.3643">AggregatedRating(String oneStar, String twoStar, String threeStar, String fourStar, String fiveStar, int totalRatings, float average)</text><!--MD5=[8250a30276222dc00cfbc9bc4aa3f957]
link ProductController to ProductService--><path codeLine="61" d="M466.48,62.13 C493.19,78.87 528.31,100.88 559.06,120.16 " fill="none" id="ProductController-to-ProductService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="563.56,122.98,558.0554,114.813,559.3224,120.3262,553.8093,121.5932,563.56,122.98" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[06619b2a7f13747b8d605584d9f35917]
link ProductController to ReviewService--><path codeLine="62" d="M395.41,62.13 C375.48,80.68 348.61,105.7 326.49,126.3 " fill="none" id="ProductController-to-ReviewService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="322.7,129.83,332.015,126.6315,326.3619,126.4256,326.5679,120.7724,322.7,129.83" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2b8fe5069089597064c422e529f1b249]
link ProductServiceImpl to Review--><path codeLine="63" d="M413,364.57 C413,391.15 413,429.53 413,464.65 " fill="none" id="ProductServiceImpl-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="413,469.8,417,460.8,413,464.8,409,460.8,413,469.8" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a973bd28eaa03343f4887af78abe4722]
link ReviewServiceImpl to Review--><path codeLine="64" d="M168.53,357.66 C202.46,384.62 256.71,427.75 305.5,466.54 " fill="none" id="ReviewServiceImpl-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="309.6,469.8,305.0476,461.0664,305.6873,466.687,300.0667,467.3267,309.6,469.8" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bd1d3beaf9e1cc8bc587a0b06ae41ee6]
link ProductService to Product--><path codeLine="65" d="M670.38,207.13 C687.73,224.37 708.32,244.84 727.63,264.03 " fill="none" id="ProductService-to-Product" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="731.47,267.85,727.9159,258.6648,727.9273,264.3216,722.2705,264.333,731.47,267.85" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[96d356b2c71be451e2053c39f6f4a4db]
link ProductService to AggregatedRating--><path codeLine="66" d="M744.01,178.76 C852.51,193.46 1003.79,221.71 1040,268 C1084.92,325.43 1065.36,410.08 1040.39,472.03 " fill="none" id="ProductService-to-AggregatedRating" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1038.43,476.82,1045.53,469.9944,1040.3165,472.1895,1038.1213,466.976,1038.43,476.82" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[418687281c593c8dd812c04f2d15bfcd]
link Product to Review--><path codeLine="67" d="M687.91,392.12 C647.98,415.34 601.76,442.22 558.74,467.24 " fill="none" id="Product-to-Review" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="554.32,469.81,564.1099,468.7343,558.6399,467.2924,560.0818,461.8224,554.32,469.81" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="626" y="436.4951">has a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="668.3543" y="413.7367">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="546.0157" y="459.2162">0..*</text><!--MD5=[b90d00b95330d3d59da11c4b5c742abc]
link Product to AggregatedRating--><path codeLine="68" d="M850.39,392.27 C873.76,417.23 901.09,446.4 925.94,472.93 " fill="none" id="Product-to-AggregatedRating" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="929.59,476.83,926.3527,467.5284,926.1703,473.1823,920.5164,472.9999,929.59,476.83" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="891" y="436.4951">has a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="849.2842" y="413.4641">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="915.3145" y="466.0677">1</text><!--MD5=[fc0c862082617d1001ad601301e2cdc2]
reverse link ProductService to ProductServiceImpl--><path codeLine="70" d="M558.24,219.4 C525.12,244.39 486.68,273.4 457.67,295.29 " fill="none" id="ProductService-backto-ProductServiceImpl" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="554.31,213.59,574.49,207.13,562.75,224.77,554.31,213.59" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9f3ba529bbceff5d2d0651079e8870e0]
reverse link ReviewService to ReviewServiceImpl--><path codeLine="71" d="M240.69,214.91 C214.1,243.61 181.54,278.76 159.65,302.4 " fill="none" id="ReviewService-backto-ReviewServiceImpl" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="235.62,210.08,254.35,200.17,245.89,219.6,235.62,210.08" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6e46f243195787300d0b309de64109bf]
@startuml
'https://plantuml.com/class-diagram

hide circle
skinparam classAttributeIconSize 0


class ProductController {
    +getProductAggregatedRating(String sku): ResponseEntity<Product>
}

interface ProductService <<interface>> {
    +findOne(Long productId): Optional<Product>
    +findBySku(String sku): Optional<Product>
}

class ProductServiceImpl{
    +findOne(Long productId): Optional<Product>
    +findBySku(String sku): Optional<Product>
}

interface ReviewService <<interface>> {
    +findReviewsBySku(String sku): Iterable<Review>
}

class ReviewServiceImpl{
    +findReviewsBySku(String sku): Iterable<Review>
}

class Review {
    - productID
    - reviewID
    - text
    - rating
    - userId
    - publishingDate
    - funFact
    - statusId
    Review(Long reviewId, Long productId, String text, Long rating)
}

class Product {
    - productId
    - designation
    - description
    - setOfImages
    - sku
    Product(Long productId, String designation, String description, String setOfImages, Long sku)
}

class AggregatedRating {
    - one_Star
    - two_Star
    - three_Star
    - four_Star
    - five_Star
    - totalRatings
    - average
    AggregatedRating(String oneStar, String twoStar, String threeStar, String fourStar, String fiveStar, int totalRatings, float average)
}

ProductController ..> ProductService
ProductController ..> ReviewService
ProductServiceImpl ..> Review
ReviewServiceImpl ..> Review
ProductService ..> Product
ProductService ..> AggregatedRating
Product "1" ..> "0..*" Review: has a
Product "1" ..> "1" AggregatedRating: has a

ProductServiceImpl .up.|> ProductService
ReviewServiceImpl .up.|> ReviewService


@enduml

@startuml

hide circle
skinparam classAttributeIconSize 0


class ProductController {
    +getProductAggregatedRating(String sku): ResponseEntity<Product>
}

interface ProductService <<interface>> {
    +findOne(Long productId): Optional<Product>
    +findBySku(String sku): Optional<Product>
}

class ProductServiceImpl{
    +findOne(Long productId): Optional<Product>
    +findBySku(String sku): Optional<Product>
}

interface ReviewService <<interface>> {
    +findReviewsBySku(String sku): Iterable<Review>
}

class ReviewServiceImpl{
    +findReviewsBySku(String sku): Iterable<Review>
}

class Review {
    - productID
    - reviewID
    - text
    - rating
    - userId
    - publishingDate
    - funFact
    - statusId
    Review(Long reviewId, Long productId, String text, Long rating)
}

class Product {
    - productId
    - designation
    - description
    - setOfImages
    - sku
    Product(Long productId, String designation, String description, String setOfImages, Long sku)
}

class AggregatedRating {
    - one_Star
    - two_Star
    - three_Star
    - four_Star
    - five_Star
    - totalRatings
    - average
    AggregatedRating(String oneStar, String twoStar, String threeStar, String fourStar, String fiveStar, int totalRatings, float average)
}

ProductController ..> ProductService
ProductController ..> ReviewService
ProductServiceImpl ..> Review
ReviewServiceImpl ..> Review
ProductService ..> Product
ProductService ..> AggregatedRating
Product "1" ..> "0..*" Review: has a
Product "1" ..> "1" AggregatedRating: has a

ProductServiceImpl .up.|> ProductService
ReviewServiceImpl .up.|> ReviewService


@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>