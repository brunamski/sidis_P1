<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="646px" preserveAspectRatio="none" style="width:1389px;height:646px;background:#FFFFFF;" version="1.1" viewBox="0 0 1389 646" width="1389px" zoomAndPan="magnify"><defs><filter height="300%" id="fodeby7j58gg2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="451.9219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="33.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="420.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="384.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="134.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="647.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="647.5" y="481.8281"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="134.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="818.5" y="317.0703"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="36.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1009" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="36.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1219" y="347.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="89.6094" y2="560.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="389" x2="389" y1="89.6094" y2="560.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="652" x2="652" y1="89.6094" y2="560.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="823" x2="823" y1="89.6094" y2="560.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1014" x2="1014" y1="89.6094" y2="560.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1224" x2="1224" y1="89.6094" y2="560.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="5" y="86.5332">Customer</text><ellipse cx="38.5" cy="15" fill="#FEFECE" filter="url(#fodeby7j58gg2)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M38.5,23 L38.5,50 M25.5,31 L51.5,31 M38.5,50 L25.5,65 M38.5,50 L51.5,65 " fill="none" filter="url(#fodeby7j58gg2)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="5" y="574.0645">Customer</text><ellipse cx="38.5" cy="587.1406" fill="#FEFECE" filter="url(#fodeby7j58gg2)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M38.5,595.1406 L38.5,622.1406 M25.5,603.1406 L51.5,603.1406 M38.5,622.1406 L25.5,637.1406 M38.5,622.1406 L51.5,637.1406 " fill="none" filter="url(#fodeby7j58gg2)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="129" x="323" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="330" y="74.5332">:ProductController</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="129" x="323" y="559.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="330" y="581.0645">:ProductController</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="571" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="578" y="74.5332">service:ProductService</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="571" y="559.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="578" y="581.0645">service:ProductService</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="155" x="744" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="751" y="74.5332">service:ReviewService</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="155" x="744" y="559.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="751" y="581.0645">service:ReviewService</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="198" x="913" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="920" y="74.5332">repository:ProductRepository</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="198" x="913" y="559.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="920" y="581.0645">repository:ProductRepository</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="194" x="1125" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1132" y="74.5332">repository:ReviewRepository</text><rect fill="#FEFECE" filter="url(#fodeby7j58gg2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="194" x="1125" y="559.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1132" y="581.0645">repository:ReviewRepository</text><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="451.9219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="33.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="420.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="384.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="134.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="647.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="647.5" y="481.8281"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="134.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="818.5" y="317.0703"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="36.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1009" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fodeby7j58gg2)" height="36.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1219" y="347.4219"/><polygon fill="#A80036" points="372.5,117.9609,382.5,121.9609,372.5,125.9609,376.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43.5" x2="378.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="50.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="61.5" y="117.1045">asks to get the aggregated rating of a product</text><polygon fill="#A80036" points="635.5,148.3125,645.5,152.3125,635.5,156.3125,639.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="394.5" x2="641.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="401.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="412.5" y="147.4561">getProductAggregatedRating(sku)</text><polygon fill="#A80036" points="997,178.6641,1007,182.6641,997,186.6641,1001,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="657.5" x2="1003" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="664.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="675.5" y="177.8076">findBySku(sku)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1019" x2="1061" y1="218.0156" y2="218.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1061" x2="1061" y1="218.0156" y2="231.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1014" x2="1061" y1="231.0156" y2="231.0156"/><polygon fill="#A80036" points="1024,227.0156,1014,231.0156,1024,235.0156,1020,231.0156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1026" y="213.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="1037" y="213.1592">findBySku(sku)</text><polygon fill="#A80036" points="668.5,252.3672,658.5,256.3672,668.5,260.3672,664.5,256.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="662.5" x2="1013" y1="256.3672" y2="256.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="674.5" y="251.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="685.5" y="251.5107">product</text><polygon fill="#A80036" points="405.5,282.7188,395.5,286.7188,405.5,290.7188,401.5,286.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="399.5" x2="651.5" y1="286.7188" y2="286.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411.5" y="281.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="422.5" y="281.8623">product</text><polygon fill="#A80036" points="806.5,313.0703,816.5,317.0703,806.5,321.0703,810.5,317.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="394.5" x2="812.5" y1="317.0703" y2="317.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="401.5" y="312.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="412.5" y="312.2139">findReviewsBySku(sku)</text><polygon fill="#A80036" points="1207,343.4219,1217,347.4219,1207,351.4219,1211,347.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="828.5" x2="1213" y1="347.4219" y2="347.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="835.5" y="342.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="846.5" y="342.5654">findReviewsBySku(sku)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1229" x2="1271" y1="382.7734" y2="382.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1271" x2="1271" y1="382.7734" y2="395.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1224" x2="1271" y1="395.7734" y2="395.7734"/><polygon fill="#A80036" points="1234,391.7734,1224,395.7734,1234,399.7734,1230,395.7734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1236" y="377.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1247" y="377.917">findReviewsBySku(sku)</text><polygon fill="#A80036" points="839.5,417.125,829.5,421.125,839.5,425.125,835.5,421.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="833.5" x2="1223" y1="421.125" y2="421.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="845.5" y="416.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="863.5" y="416.2686">reviews list</text><polygon fill="#A80036" points="405.5,447.4766,395.5,451.4766,405.5,455.4766,401.5,451.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="399.5" x2="822.5" y1="451.4766" y2="451.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="411.5" y="446.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="429.5" y="446.6201">reviews list</text><polygon fill="#A80036" points="635.5,477.8281,645.5,481.8281,635.5,485.8281,639.5,481.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="394.5" x2="641.5" y1="481.8281" y2="481.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="401.5" y="476.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="419.5" y="476.9717">getProductAggregatedRating(reviews)</text><polygon fill="#A80036" points="405.5,508.1797,395.5,512.1797,405.5,516.1797,401.5,512.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="399.5" x2="651.5" y1="512.1797" y2="512.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="411.5" y="507.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="429.5" y="507.3232">aggregatedRating</text><polygon fill="#A80036" points="54.5,538.5313,44.5,542.5313,54.5,546.5313,50.5,542.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48.5" x2="388.5" y1="542.5313" y2="542.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="60.5" y="537.6748">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="78.5" y="537.6748">shows the aggregated rating of the selected product</text><!--MD5=[43b3eb179308e21b2ac06dfef403ed1e]
@startuml
'https://plantuml.com/sequence-diagram

autoactivate on
autonumber

actor "Customer" as User
participant ":ProductController" as Ctrl
participant "service:ProductService" as Service
participant "service:ReviewService" as Service2
participant "repository:ProductRepository" as Repo
participant "repository:ReviewRepository" as Repo2


activate User

User -> Ctrl: asks to get the aggregated rating of a product
Ctrl -> Service: getProductAggregatedRating(sku)
Service -> Repo: findBySku(sku)
Repo - -> Repo: findBySku(sku)
Repo - -> Service: product
Service - -> Ctrl: product
Ctrl -> Service2: findReviewsBySku(sku)
Service2 -> Repo2: findReviewsBySku(sku)
Repo2 - -> Repo2: findReviewsBySku(sku)
Repo2 - -> Service2: reviews list
Service2 - -> Ctrl: reviews list
Ctrl -> Service: getProductAggregatedRating(reviews)
Service - -> Ctrl: aggregatedRating
Ctrl - -> User: shows the aggregated rating of the selected product


@enduml

@startuml

autoactivate on
autonumber

actor "Customer" as User
participant ":ProductController" as Ctrl
participant "service:ProductService" as Service
participant "service:ReviewService" as Service2
participant "repository:ProductRepository" as Repo
participant "repository:ReviewRepository" as Repo2


activate User

User -> Ctrl: asks to get the aggregated rating of a product
Ctrl -> Service: getProductAggregatedRating(sku)
Service -> Repo: findBySku(sku)
Repo - -> Repo: findBySku(sku)
Repo - -> Service: product
Service - -> Ctrl: product
Ctrl -> Service2: findReviewsBySku(sku)
Service2 -> Repo2: findReviewsBySku(sku)
Repo2 - -> Repo2: findReviewsBySku(sku)
Repo2 - -> Service2: reviews list
Service2 - -> Ctrl: reviews list
Ctrl -> Service: getProductAggregatedRating(reviews)
Service - -> Ctrl: aggregatedRating
Ctrl - -> User: shows the aggregated rating of the selected product


@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>